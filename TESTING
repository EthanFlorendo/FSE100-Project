global key
InitKeyboard();

while 1
    pause(0.1);
    switch key
        case 'w'
	    brick.MoveMotor('A', 100);
  	    brick.MoveMotor('B', 100);
            brick.StopMotor('AB');	  
	    pause(1);
	    brick.MoveMotor('A', 100);
	    brick.MoveMotor('B', 100);
	    pause(2);
	    brick.StopMotor('AB', 'Brake');
            % This is when it touches the thing
            
        case 's'
		brick.MoveMotor('A', 100);
  	    	brick.MoveMotor('B', 100);
           %turn right
		brick.StopMotor('AB');
		pause(1);
		brick.MoveMotor('A', -50);
     		brick.MoveMotor('B', 50);
      		pause(2);
            %this is a turn
            %go forward
		brick.StopMotor('AB');
		pause(1);
      		brick.MoveMotor('A', 100);
      		brick.MoveMotor('B', 100);
		pause(2);

            
        case 'a'
		brick.MoveMotor('A', 100);
  	    	brick.MoveMotor('B', 100);
            %turn left
		brick.StopMotor('AB');
		pause(1);
		brick.MoveMotor('B', -50);
      		brick.MoveMotor('A', 50);
      		pause(2);
		 %go forward
		brick.StopMotor('AB');
		pause(1);
		brick.MoveMotor('A', 100);
      		brick.MoveMotor('B', 100);
		pause(2);
;
            
        case 'd'
		brick.MoveMotor('A', 100);
  	    	brick.MoveMotor('B', 100);
            %turn right
		brick.StopMotor('AB');
		pause(1);
		brick.MoveMotor('A', -50);
     		brick.MoveMotor('B', 50);
      		pause(2);
	    %go forward
		brick.StopMotor('AB');
		pause(1);
      		brick.MoveMotor('A', 100);
      		brick.MoveMotor('B', 100);
		pause(2);

            
        case 'leftarrow'
            brick.MoveMotor('D', -10);
            
        case 'rightarrow'
            brick.StopMotor('ABD', 'Brake');

        case 0
            %brick.StopMotor('ABD', 'Coast');
            
        case 'q'
            brick.StopMotor('ABD', 'Brake');
            break;
    end
end

CloseKeyboard();
